import{_ as n,p as s,q as a,a1 as p}from"./framework-d81ad7e5.js";const t={},o=p(`<div class="language-javascript" data-ext="js"><pre class="language-javascript"><code>    <span class="token comment">// 加载视频</span>
    <span class="token function">playVideoInstall</span><span class="token punctuation">(</span><span class="token parameter">seekTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//如果播放器已存在</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//卸载播放器</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>player <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> videoObject <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">container</span><span class="token operator">:</span> <span class="token string">&quot;#videoInstall&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">&quot;100%&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">volume</span><span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
        <span class="token literal-property property">seek</span><span class="token operator">:</span> seekTime<span class="token punctuation">,</span>
        <span class="token literal-property property">cookie</span><span class="token operator">:</span> <span class="token string">&quot;abcdefg&quot;</span><span class="token punctuation">,</span> <span class="token comment">//cookie名称,请在同一域中保持唯一</span>
        <span class="token literal-property property">poster</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token comment">//封面图片地址</span>
        <span class="token literal-property property">smallWindows</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">html5m3u8</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">plug</span><span class="token operator">:</span><span class="token string">&#39;hls.js&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">video</span><span class="token operator">:</span><span class="token string">&#39;http://172.16.44.49/kkk/index.m3u8&#39;</span><span class="token punctuation">,</span> <span class="token comment">//视频地址</span>
        <span class="token literal-property property">playbackrateOpen</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//倍速</span>
        <span class="token literal-property property">stopDblclick</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//取消双击全屏--自定义配置</span>
        <span class="token literal-property property">timeScheduleAdjust</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
        <span class="token literal-property property">loaded</span><span class="token operator">:</span> <span class="token string">&quot;loadHandler&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">menu</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;添加课程&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">javascript</span><span class="token operator">:</span> <span class="token string">&quot;addTopic&quot;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token comment">// eslint-disable-next-line no-undef</span>
      <span class="token keyword">var</span> player <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ckplayer</span><span class="token punctuation">(</span>videoObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>player <span class="token operator">=</span> player<span class="token punctuation">;</span>
      <span class="token comment">// 添加右键事件</span>
      window<span class="token punctuation">.</span>addTopic <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>addTopic<span class="token punctuation">;</span>
      <span class="token comment">// 弹出题目</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>questionTempList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">==</span> item<span class="token punctuation">.</span>time<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>questionObj <span class="token operator">=</span> item<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>eleLayer <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">layer</span><span class="token punctuation">(</span><span class="token string">&quot;.elementtemp&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//添加一个层到播放器中</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 监听到暂停</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateprocessFn</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 视频播放已结束</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token string">&quot;ended&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateprocessFn</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">trunc</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>player<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre></div><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> videoObject <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">container</span><span class="token operator">:</span> <span class="token string">&#39;.video&#39;</span><span class="token punctuation">,</span> <span class="token comment">//“#”代表容器的ID，“.”或“”代表容器的class</span>
        <span class="token literal-property property">variable</span><span class="token operator">:</span> <span class="token string">&#39;player&#39;</span><span class="token punctuation">,</span> <span class="token comment">//播放函数名称，该属性必需设置，值等于下面的new ckplayer()的对象</span>
        <span class="token literal-property property">volume</span><span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span> <span class="token comment">//音量，范围：0-1</span>
        <span class="token literal-property property">poster</span><span class="token operator">:</span> <span class="token string">&#39;poster.png&#39;</span><span class="token punctuation">,</span> <span class="token comment">//封面图片</span>
        <span class="token literal-property property">video</span><span class="token operator">:</span> <span class="token string">&#39;http://ckplayer-video.oss-cn-shanghai.aliyuncs.com/sample-mp4/05cacb4e02f9d9e.mp4&#39;</span><span class="token punctuation">,</span><span class="token comment">//视频地址</span>
        <span class="token literal-property property">autoplay</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否自动播放</span>
        <span class="token literal-property property">loop</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否需要循环播放</span>
        <span class="token literal-property property">live</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否是直播</span>
        <span class="token literal-property property">duration</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">//指定总时间</span>
        <span class="token literal-property property">forceduration</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">//强制使用该时间为总时间</span>
        <span class="token literal-property property">seek</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">//默认需要跳转的秒数</span>
        <span class="token literal-property property">drag</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//拖动时支持的前置参数</span>
        <span class="token literal-property property">loaded</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//加载播放器后调用的函数</span>
        <span class="token literal-property property">flashplayer</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//设置成true则强制使用flashplayer</span>
        <span class="token literal-property property">html5m3u8</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//PC平台上是否使用h5播放器播放m3u8</span>
        <span class="token literal-property property">track</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token comment">//字幕轨道</span>
        <span class="token literal-property property">cktrack</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token comment">//ck字幕</span>
        <span class="token literal-property property">cktrackdelay</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">//字幕显示延迟时间</span>
        <span class="token literal-property property">preview</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token comment">//预览图片对象</span>
        <span class="token literal-property property">prompt</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span><span class="token comment">//提示点功能</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//视频格式</span>
        <span class="token literal-property property">crossorigin</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//设置html5视频的crossOrigin属性</span>
        <span class="token literal-property property">crossdomain</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//安全策略文件地址</span>
        <span class="token literal-property property">unescape</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//默认flashplayer里需要解码</span>
        <span class="token literal-property property">mobileCkControls</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//移动端h5显示控制栏</span>
        <span class="token literal-property property">mobileAutoFull</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//移动端是否默认全屏播放</span>
        <span class="token literal-property property">playbackrate</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token comment">//默认倍速</span>
        <span class="token literal-property property">h5container</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//h5环境中使用自定义容器</span>
        <span class="token literal-property property">debug</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否开启调试模式</span>
        <span class="token literal-property property">overspread</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//是否让视频铺满播放器</span>
        <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//调用配置函数名称</span>
        <span class="token literal-property property">language</span><span class="token operator">:</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//语言文件路径</span>
        <span class="token literal-property property">style</span><span class="token operator">:</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//风格文件路径</span>
        <span class="token literal-property property">adfront</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//前置贴片广告列表</span>
        <span class="token literal-property property">adfronttime</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//前置贴片广告强制时间列表</span>
        <span class="token literal-property property">adfrontlink</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//前置 贴片广告链接地址列表</span>
        <span class="token literal-property property">adpause</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//暂停广告列表，只是是图片</span>
        <span class="token literal-property property">adpausetime</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//暂停广告列表每个图片播放的时间</span>
        <span class="token literal-property property">adpauselink</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//暂停广告列表的链接地址列表</span>
        <span class="token literal-property property">adinsert</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//插入广告列表</span>
        <span class="token literal-property property">adinserttime</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//插入贴片广告时间列表</span>
        <span class="token literal-property property">adinsertlink</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//插入贴片广告链接列表</span>
        <span class="token literal-property property">inserttime</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//插入贴片广告显示的时间点列表</span>
        <span class="token literal-property property">adend</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//播放结速帖片广告列表</span>
        <span class="token literal-property property">adendtime</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//播放结速帖片时间列表</span>
        <span class="token literal-property property">adendlink</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token comment">//播放结速帖片链接列表</span>
        <span class="token literal-property property">advertisements</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token comment">//可以使用单独的json文件配置广告</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>文件调用方式：</p><div class="language-html" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ckplayer/ckplayer.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>video<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span>600px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span>400px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">var</span> videoObject <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">container</span><span class="token operator">:</span> <span class="token string">&#39;#video&#39;</span><span class="token punctuation">,</span><span class="token comment">//“#”代表容器的ID，“.”或“”代表容器的class</span>
		<span class="token literal-property property">variable</span><span class="token operator">:</span> <span class="token string">&#39;player&#39;</span><span class="token punctuation">,</span><span class="token comment">//该属性必需设置，值等于下面的new chplayer()的对象</span>
		<span class="token literal-property property">video</span><span class="token operator">:</span><span class="token string">&#39;wetsite:存放视频地址的一个页面网址&#39;</span><span class="token comment">//视频地址</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> player<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ckplayer</span><span class="token punctuation">(</span>videoObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>说明：</p><p>video里是调用一个网址，网址返回视频地址（以及其它参数），标准格式必需用website:开头，播放器检测到video的值开头8个字符为website:则会去请求该地址调用视频地址播放。</p><p>示例：JSON调用形式，兼容PC的flashplayer,html5,支持移动端html5。</p><p>我们修改videoObject里的属性：video</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token literal-property property">video</span><span class="token operator">:</span><span class="token string">&#39;website:temp.json&#39;</span>
json里的格式可以是以下格式：

第一种，调用一个普通的视频：

<span class="token punctuation">{</span>
    <span class="token string-property property">&quot;video&quot;</span><span class="token operator">:</span> <span class="token string">&quot;temp.mp4&quot;</span>
<span class="token punctuation">}</span>
第二种，申明视频类型：

<span class="token punctuation">{</span>
    <span class="token string-property property">&quot;video&quot;</span><span class="token operator">:</span> <span class="token string">&quot;temp.mp4&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;video/mp4&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div>`,9),e=[o];function c(l,r){return s(),a("div",null,e)}const u=n(t,[["render",c],["__file","ckplayer.html.vue"]]);export{u as default};
