import{_ as p,M as o,p as e,q as c,R as n,t as a,N as t,a1 as l}from"./framework-d81ad7e5.js";const u="/assets/five_map-f16ac4f6.png",r={},i={href:"https://leafletjs.cn/examples/quick-start/",target:"_blank",rel:"noopener noreferrer"},k={href:"https://leafletjs.cn/reference.html",target:"_blank",rel:"noopener noreferrer"},m=l(`<ul><li>WebGIS五种框架对比</li></ul><h3 id="qgis" tabindex="-1"><a class="header-anchor" href="#qgis" aria-hidden="true">#</a> qgis</h3><ul><li><strong>QMetaTiles插件</strong></li><li>瓦片</li></ul><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">initMap</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> imagesLayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">tileLayer</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://tiles1.geovisearth.com/base/v1/img/{z}/{x}/{y}?token=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>geovisearthToken<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> imagesLableLayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">tileLayer</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">https://tiles1.geovisearth.com/base/v1/cia/{z}/{x}/{y}?token=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>geovisearthToken<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> layers <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">layerGroup</span><span class="token punctuation">(</span><span class="token punctuation">[</span>imagesLayer<span class="token punctuation">,</span> imagesLableLayer<span class="token punctuation">]</span><span class="token punctuation">)</span>
  map <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token string">&#39;myMap&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>  <span class="token comment">//需绑定地图容器div的id</span>
    <span class="token literal-property property">center</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">25.67052</span><span class="token punctuation">,</span> <span class="token number">121.99804</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">//初始地图中心</span>
    <span class="token literal-property property">zoom</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token comment">//初始缩放等级</span>
    <span class="token literal-property property">maxZoom</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
    <span class="token literal-property property">minZoom</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">zoomControl</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//缩放组件</span>
    <span class="token literal-property property">attributionControl</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//去掉右下角logol</span>
    <span class="token literal-property property">scrollWheelZoom</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//默认开启鼠标滚轮缩放</span>
    <span class="token comment">// 限制显示地理范围</span>
    <span class="token literal-property property">maxBounds</span><span class="token operator">:</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">latLngBounds</span><span class="token punctuation">(</span><span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">latLng</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">latLng</span><span class="token punctuation">(</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>layers<span class="token punctuation">]</span> <span class="token punctuation">,</span> <span class="token comment">// 图层</span>

     <span class="token literal-property property">crs</span><span class="token operator">:</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token constant">CRS</span><span class="token punctuation">.</span><span class="token constant">EPSG4326</span><span class="token punctuation">,</span>
        <span class="token literal-property property">layers</span><span class="token operator">:</span> <span class="token punctuation">[</span>layer1<span class="token punctuation">,</span> layer2<span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">zoomControl</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用 + - 按钮</span>
        <span class="token literal-property property">doubleClickZoom</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 禁用双击放大</span>
        <span class="token literal-property property">attributionControl</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// 移除右下角leaflet标识 </span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// 添加比例尺要素显示</span>
  <span class="token constant">L</span><span class="token punctuation">.</span>control<span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">maxWidth</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token literal-property property">metric</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">imperial</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span>
  <span class="token doc-comment comment">/** 地图聚合 */</span>
  <span class="token function">addMapFeature</span><span class="token punctuation">(</span>pointData<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 



 <span class="token comment">// 地图聚合</span>
<span class="token keyword">const</span> <span class="token function-variable function">addMapFeature</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">pointData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 创建新的聚合图层，向其添加标记，然后将其添加到地图中</span>
  <span class="token keyword">const</span> projectPointLayer <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">markerClusterGroup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">showCoverageOnHover</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 为true时,当鼠标悬停在聚合点上时，它会显示它聚合的边界</span>
    <span class="token literal-property property">zoomToBoundsOnClick</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//  为true时，当鼠标点击某个聚合点时，会缩放到它的边界范围</span>
    <span class="token literal-property property">chunkedLoading</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">spiderfyOnMaxZoom</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">maxClusterRadius</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token comment">// 聚类从中心标记覆盖的最大半径（以像素为单位）,默认值 80</span>
    <span class="token literal-property property">spiderLegPolylineOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#222&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">0.5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addTo</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> geojson <span class="token operator">=</span> pointData<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>geojson<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">addProjectClusterLayers</span><span class="token punctuation">(</span>geojson<span class="token punctuation">,</span> projectPointLayer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    projectPointLayer<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      e<span class="token punctuation">.</span>layer<span class="token punctuation">.</span><span class="token function">unbindPopup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用于解除地图图层（layer）与其关联的弹出窗口（popup）</span>
      <span class="token comment">// 图层点击弹出窗口处理事件</span>
      <span class="token keyword">const</span> elements <span class="token operator">=</span> <span class="token function">getProjectPopupContent</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>layer<span class="token punctuation">.</span>options<span class="token punctuation">.</span>properties<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回内容</span>
      e<span class="token punctuation">.</span>layer<span class="token punctuation">.</span><span class="token function">bindPopup</span><span class="token punctuation">(</span>elements<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">openPopup</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>latlng<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 弹窗</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/*
 * 点单击内容函数
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">getProjectPopupContent</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 内容及单击事件</span>
  <span class="token keyword">const</span> elements <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;div&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">toPopupItemStr</span><span class="token punctuation">(</span><span class="token string">&quot;经度&quot;</span><span class="token punctuation">,</span> item<span class="token punctuation">.</span>lon<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">toPopupItemStr</span><span class="token punctuation">(</span><span class="token string">&quot;纬度&quot;</span><span class="token punctuation">,</span> item<span class="token punctuation">.</span>lat<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">toPopupItemStr</span><span class="token punctuation">(</span><span class="token string">&quot;阈值&quot;</span><span class="token punctuation">,</span> item<span class="token punctuation">.</span>valve<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> elements<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">toPopupItemStr</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;b&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:&lt;/b&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;br&gt;</span><span class="token template-punctuation string">\`</span></span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/*
 * 加载聚合图层
 */</span>
<span class="token keyword">const</span> <span class="token function-variable function">addProjectClusterLayers</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">geojson<span class="token punctuation">,</span> clusterlayer</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> markerList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 聚合标记点列表</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>geojson<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> geojson<span class="token punctuation">.</span>features<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>geojson<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> properties <span class="token operator">=</span> geojson<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>properties<span class="token punctuation">;</span>
        <span class="token keyword">const</span> coordinate <span class="token operator">=</span> geojson<span class="token punctuation">.</span>features<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>geometry<span class="token punctuation">.</span>coordinates<span class="token punctuation">;</span>
        <span class="token comment">/*  点状展示样式(无聚合状态) */</span>
        <span class="token keyword">let</span> img <span class="token operator">=</span> dot3Url<span class="token punctuation">;</span>
        <span class="token keyword">const</span> myIcon <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">icon</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          <span class="token literal-property property">iconUrl</span><span class="token operator">:</span> img<span class="token punctuation">,</span>
          <span class="token literal-property property">iconSize</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> marker <span class="token operator">=</span> <span class="token constant">L</span><span class="token punctuation">.</span><span class="token function">marker</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">L<span class="token punctuation">.</span>LatLng</span><span class="token punctuation">(</span>coordinate<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> coordinate<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">properties</span><span class="token operator">:</span> properties<span class="token punctuation">,</span>
          <span class="token literal-property property">icon</span><span class="token operator">:</span> myIcon<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        markerList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>marker<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>
  clusterlayer<span class="token punctuation">.</span><span class="token function">addLayers</span><span class="token punctuation">(</span>markerList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
 
</code></pre></div><h3 id="openlayers" tabindex="-1"><a class="header-anchor" href="#openlayers" aria-hidden="true">#</a> OpenLayers</h3><p>OpenLayers是一款功能强大、灵活的开源JavaScript库，适用于桌面和移动设备。</p><ul><li><p>优点:OpenLayers性能好，可以支持超大数据量点位叠加，并对于各种地图服务支持较好。比如WMS、WFS。插件生态也比较完善比较容易扩展。</p></li><li><p>缺点：API文档比较复杂，学习成本较大。试用范围</p></li></ul><h3 id="leaflet" tabindex="-1"><a class="header-anchor" href="#leaflet" aria-hidden="true">#</a> LeafLet</h3><p>LeafLet是最著名的前端地图可视化库，它开源、体积小、结构清晰、简单易用，拥有大量的插件。</p><ul><li><p>优点：简单易上手，轻量级。</p></li><li><p>缺点：在处理大规模数据时可能会出现性能瓶颈。</p></li></ul><h3 id="arcgis-api-for-js" tabindex="-1"><a class="header-anchor" href="#arcgis-api-for-js" aria-hidden="true">#</a> ArcGIS API for JS</h3><p>ArcGIS API for JS 是较为学院派的前端地图库，它是ArcGIS开发套件中的一部分，和桌面端和服务器端ArcGIS软件有较好的协作。它不开源且收费不低，在学术场景下较为常用。</p><ul><li><p>优点：集成了完整的GIS分析功能；提供详尽的API文档和示例；可自定义地图符号和样式。</p></li><li><p>缺点：相对其他GIS框架而言，学习曲线较为陡峭；组件较多，需要深入了解其功能，不开源收费高。</p></li></ul><h3 id="cesium" tabindex="-1"><a class="header-anchor" href="#cesium" aria-hidden="true">#</a> Cesium</h3><p>Cesium是一款基于WebGL的三维地球开发框架，提供了丰富的三维地球展示和空间分析功能。</p><ul><li><p>优点：支持三维场景的地图，提供大量的GIS数据可视化功能；开发文档十分详细。</p></li><li><p>缺点：学习成本高，需要理解3D场景的概念；在加载大量数据时，性能不是特别好，本身不支持加载矢量切片图层。</p></li></ul><h3 id="mapbox" tabindex="-1"><a class="header-anchor" href="#mapbox" aria-hidden="true">#</a> Mapbox</h3><p>地址：Maps, geocoding, and navigation APIs &amp; SDKs | Mapbox</p><p>Mapbox GL JS 是目前最新潮的前端地图库，它的矢量压缩、动态样式和三维性能令人印象深刻。它本身是开源的，但一般依赖于Mapbox公司提供的底图服务</p><ul><li><p>优点：易于使用，提供丰富的组件和可视化工具；支持多种地图风格、图层和样式自定义。</p></li><li><p>缺点：付费的高级功能较为昂贵；需要 Mapbox 服务器 API。</p></li></ul><p><img src="`+u+'" alt="alt"></p>',21);function y(d,g){const s=o("ExternalLinkIcon");return e(),c("div",null,[n("p",null,[n("a",i,[a("https://leafletjs.cn/examples/quick-start/"),t(s)])]),n("ul",null,[n("li",null,[n("a",k,[a("中文文档"),t(s)])])]),m])}const b=p(r,[["render",y],["__file","leaflet_a.html.vue"]]);export{b as default};
