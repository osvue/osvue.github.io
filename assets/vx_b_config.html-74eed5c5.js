import{_ as o,M as p,p as c,q as l,R as n,t as s,N as t,a1 as e}from"./framework-d81ad7e5.js";const u={},i=e(`<h2 id="一个新的全局-api-createapp" tabindex="-1"><a class="header-anchor" href="#一个新的全局-api-createapp" aria-hidden="true">#</a> 一个新的全局 API：<code>createApp</code></h2><p>调用 <code>createApp</code> 返回一个<em>应用实例</em>，一个 Vue 3 中的新概念。</p><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>`,3),r={href:"https://v3.cn.vuejs.org/guide/installation.html#cdn",target:"_blank",rel:"noopener noreferrer"},d=n("code",null,"createApp",-1),k=n("code",null,"Vue",-1),_=e(`<div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token operator">=</span> Vue

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>应用实例暴露了 Vue 2 全局 API 的一个子集，经验法则是，<em>任何全局改变 Vue 行为的 API 现在都会移动到应用实例上</em>，以下是 Vue2 全局 API 及其相应的实例 API 列表：</p>`,2),g=n("thead",null,[n("tr",null,[n("th",null,"2.x 全局 API"),n("th",null,[s("3.x 实例 API ("),n("code",null,"app"),s(")")])])],-1),h=n("tr",null,[n("td",null,"Vue.config"),n("td",null,"app.config")],-1),f=n("td",null,"Vue.config.productionTip",-1),m=n("em",null,"移除",-1),v={href:"https://v3.cn.vuejs.org/guide/migration/global-api.html#config-productiontip-%E7%A7%BB%E9%99%A4",target:"_blank",rel:"noopener noreferrer"},A=n("td",null,"Vue.config.ignoredElements",-1),b={href:"https://v3.cn.vuejs.org/guide/migration/global-api.html#config-ignoredelements-%E6%9B%BF%E6%8D%A2%E4%B8%BA-config-iscustomelement",target:"_blank",rel:"noopener noreferrer"},E=n("tr",null,[n("td",null,"Vue.component"),n("td",null,"app.component")],-1),B=n("tr",null,[n("td",null,"Vue.directive"),n("td",null,"app.directive")],-1),x=n("tr",null,[n("td",null,"Vue.mixin"),n("td",null,"app.mixin")],-1),V=n("td",null,"Vue.use",-1),y={href:"https://v3.cn.vuejs.org/guide/migration/global-api.html#%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E8%80%85%E9%A1%BB%E7%9F%A5",target:"_blank",rel:"noopener noreferrer"},j=n("td",null,"Vue.prototype",-1),w={href:"https://v3.cn.vuejs.org/guide/migration/global-api.html#vue-prototype-%E6%9B%BF%E6%8D%A2%E4%B8%BA-config-globalproperties",target:"_blank",rel:"noopener noreferrer"},P=n("td",null,"Vue.extend",-1),I=n("em",null,"移除",-1),N={href:"https://v3.cn.vuejs.org/guide/migration/global-api.html#vue-extend-%E7%A7%BB%E9%99%A4",target:"_blank",rel:"noopener noreferrer"},F=e(`<h3 id="vue-config" tabindex="-1"><a class="header-anchor" href="#vue-config" aria-hidden="true">#</a> vue config</h3><ul><li>globalProperties</li></ul><ul><li>待提交日期，版本差异，此方法无效！</li></ul><div class="language-javascript" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 定义 lib/utils.js</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;你好世界&#39;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>
    add<span class="token punctuation">,</span>say
<span class="token punctuation">}</span>

<span class="token comment">// main.js 注册</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> utils <span class="token keyword">from</span> <span class="token string">&#39;@/lib/utils&#39;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>utils <span class="token operator">=</span> utils<span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>store<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// </span>



</code></pre></div>`,4);function C(D,L){const a=p("ExternalLinkIcon");return c(),l("div",null,[i,n("p",null,[s("如果你使用的是 Vue 的 "),n("a",r,[s("CDN"),t(a)]),s(" 构建版本，那么 "),d,s(" 将通过全局的 "),k,s(" 对象暴露。")]),_,n("table",null,[g,n("tbody",null,[h,n("tr",null,[f,n("td",null,[m,s(" ("),n("a",v,[s("见下方"),t(a)]),s(")")])]),n("tr",null,[A,n("td",null,[s("app.config.compilerOptions.isCustomElement ("),n("a",b,[s("见下方"),t(a)]),s(")")])]),E,B,x,n("tr",null,[V,n("td",null,[s("app.use ("),n("a",y,[s("见下方"),t(a)]),s(")")])]),n("tr",null,[j,n("td",null,[s("app.config.globalProperties ("),n("a",w,[s("见下方"),t(a)]),s(")")])]),n("tr",null,[P,n("td",null,[I,s(" ("),n("a",N,[s("见下方"),t(a)]),s(")")])])])]),F])}const q=o(u,[["render",C],["__file","vx_b_config.html.vue"]]);export{q as default};
